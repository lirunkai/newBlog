1. DOCTYPE 的作用是什么？

声明文档类型，告知浏览器的解析器用什么文档标准解析这个文档。

2. 介绍一下你对浏览器内核的理解

3. 浏览器的渲染原理

+ 解析接受到的文档，根据文档定义一颗DOM树
+ 对CSS进行解析， 生成CSSOM规则树
+ 根据DOM和CSSOM生成渲染树，根据渲染树来进行布局

4. 渲染过程中遇到js文件怎么处理

暂停文档的解析， 优先执行js文件， js执行完成， 再进行文档解析

5. async和defer的区别是什么？

脚本没有async和defer时, 浏览器会立即执行

`defer`属性表示延迟执行引入的`JavaScript`，即这段 JavaScript 加载时 HTML 并未停止解析，这两个过程是并行的， document解析完成之后再执行脚本

`async`属性表示异步执行引入的`javascript`， 与defer不一样的是，加载后就会执行，不会等到document解析完之后再执行， 它的执行仍然会阻塞文档的解析， 只是加载不会阻塞

![](../_media/async.png)

6. 文档的预解析

当执行`JavaScript`脚本时，另一个线程解析剩下的文档，并加载后面需要通过网络加载的资源。 预解析并不会改变DOM树， 这些操作都是主进程执行的， 只解析外部资源的引入

7. CSS如何阻塞文档解析

理论上，既然样式表不改变 DOM 树，也就没有必要停下文档的解析等待它们，然而，存在一个问题，JavaScript 脚本执行时可能在文档的解析过程中请求样式信息，如果样式还没有加载和解析，脚本将得到错误的值，显然这将会导致很多问题

8. 重绘和回流

重绘： 当渲染树中的一些元素需要更新属性，而这些属性只是影响元素的外观、风格，而不会影响布局的操作，比如 background color，我们将这样的操作称为重绘。

回流： 当渲染树中的一部分因为元素的规模尺寸、布局、隐藏等改变而需要重新构建的操作，会影响到布局的操作、称为回流

引起回流： 

+ 添加删除DOM
+ 改变DOM尺寸
+ 内容变化
+ resize事件触发
+ 计算 offsetWidth 和 offsetHeight 属性
+ 设置 style 属性的值

回流一定会触发重绘， 重绘不一定会引发回流。 

减少回流：

+ 使用transform代替top
+ 不使用table布局
+ 把dom离线之后修改， eg：使用documentFragment对象在内存中操作DOM
+ 不要一条条修改DOM样式， 可以定义好css的class。修改class

9. 为什么操作DOM慢

一些DOM的操作或者访问会引起页面的回流和重绘

9. DOMContentLoaded事件和Load事件的区别

DOMContentLoaded事件： 初始的HTML文档被完全重载和解析完成之后触发， 无需等待样式表，图像等加载完成

Load事件： 当所有资源加载完成后触发

10. HTML5 有哪些新特性？

新增标签: 

canvas 

媒介：video audio  

存储：localStorage sessionStorage 

语义化： article header main footer section

网络： websocket webserver

11. 对语义化的理解

html 语义化主要指的是我们应该使用合适的标签来划分网页内容的结构。html 的本质作用其实就是定义网页文档的结构

html 语义化让页面的内容结构化，结构更清晰，便于对浏览器、搜索引擎解析


12. 离线存储

13. iframe的缺点

+ 阻塞主页面的onload事件
+ 搜索引擎的检索程序无法解读这种页面， 不利于网页SEO
+ 浏览器的后退按钮无效

14. 浏览器内多个标签页之间的通信

+ localStorage 在另一个标签页修改时， 会触发`storage`事件， 通过监听事件来进行页面通信
+ websocket协议, 标签页通过向服务器发送数据，然后由服务器向其他标签页推送转发
+ SharedWorker, 两个页面共享同一个线程， 通过向线程发送数据和接收数据来实现
+ postMessage， 如果我们能够获得对应标签页的引用，我们就可以使用 postMessage 方法，进行通信

15. 浏览器架构

+ 用户界面
  + 主进程
  + 内核
    + 渲染进程
    + js引擎
      + 执行栈
    + 事件触发线程
      + 微任务
      + 宏任务
    + 网络异步线程
    + 定时器线程

16. meta标签

提供页面的元信息

17. Html 规范中为什么要求引用资源不加协议头 http 或者 https？

如果用户当前访问的页面是通过 HTTPS 协议来浏览的，那么网页中的资源也只能通过 HTTPS 协议来引用，否则浏览器会出现警告信息，不同浏览器警告信息展现形式不同。

为了解决这个问题，我们可以省略 URL 的协议声明，省略后浏览器照样可以正常引用相应的资源，这项解决方案称为 protocol-relative URL，暂且可译作协议相对 URL。