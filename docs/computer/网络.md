# 网络

## UDP

`User Datagram Protocol` 用户数据报协议

尽最大努力交付，即不保证可靠交付，因此主机不需要维持复杂的链接状态

无连接 位于传输层

## TCP

`Transmisson Control Protocol`  传输控制协议

提供可靠交付的服务。通过TCP连接传送的数据，无差错、不丢失、不重复、并且按序到达

面向连接 位于传输层

三次握手

1. 客户端发送连接请求
2. 服务端返回同意连接请求
3. 客服端收到同意请求， 发送确认报文

四次挥手

1. 客户端发出连接释放的请求
2. 服务端收到连接释放报文，发出确认报文
3. 服务端确认将数据传送完毕之后, 向客户端发送连接释放报文
4. 客户端收到连接释放报文, 发送确认报文


## HTTP

`HyperText Transfer Protocol` 超文本传输协议，默认80端口

### HTTP2.0

和HTTP1的区别

1. 二进制传输, 之前的数据传输使用的是文本, 现在使用的传输方式是二进制
2. 多路复用。
帧和流。 帧代表着最小的数据单位，每个帧会标识出该帧属于哪个流，流也就是多个帧组成的数据流。
多路复用，就是在一个 TCP 连接中可以存在多条流。换句话说，也就是可以发送多个请求，对端可以通过帧中的标识知道属于哪个请求。通过这个技术，可以避免 HTTP 旧版本中的队头阻塞问题，极大的提高传输性能。
3. Header压缩
4. 服务端Push。 服务端可以在客户端某个请求后，主动推送其他资源。

### HTTPS

`HyperText Transfer Protocol Secure` 超文本传输安全协议，默认443接口

HTTPS 还是通过了 HTTP 来传输信息，但是信息通过 TLS 协议进行了加密。

在 TLS 中使用了两种加密技术，分别为：对称加密和非对称加密。

对称加密: 两边持有相同的密钥

非对称加密: 有公钥私钥之分，公钥所有人都可以知道，可以将数据用公钥加密，但是将数据解密必须使用私钥解密，私钥只有分发公钥的一方才知道。


## DNS

DNS域名解析

1. 浏览器搜索自己的 DNS 缓存
2. 查找本地操作系统
3. 查找本地系统`/etc/hosts（mac）`
4. 在本地区域名服务器进行查找

位于应用层

### URL输入之后到页面加载完成,都经历了什么

1. DNS查询
2. TCP握手, 指明两端的端口号, 下发给网络层。 网络层根据IP协议确定IP地址。
3. TCP握手之后, 进行TLS握手, 开始传输数据
4. 数据在进入服务端之前, 会经过负载均衡，服务器返回html
5. 浏览器判断状态码, 200继续解析, 300重定向, 400和500会报错
6. 浏览器解析文件，如果是gzip格式的话需要解压, 根据文件的编码格式进行解码
7. 构建DOM Tree, CSSOM
8. CSSOM树和DOM树构建完成后会开始生成Render树
9. 浏览器就开始调用GPU绘制，合成图层，将内容显示在屏幕上了

## FTP

`File Transfer Protocol` 文件传输协议

## SMTP

`Simple Mail Transfer Protocol` 简单邮件传输协议

## SSH

`Secure Shell` 加密的网络协议

### 跨域

跨域只是在浏览器中存在的行为, 服务器端不存在跨域

**浏览器的同源策略**
